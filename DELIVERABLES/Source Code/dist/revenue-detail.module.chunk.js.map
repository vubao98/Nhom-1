{"version":3,"sources":["D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail-routing.module.ts","D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.html","D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.scss","D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.ts","D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.module.ts"],"names":[],"mappings":"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","file":"revenue-detail.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RevenueDetailComponent } from './revenue-detail.component';\n\nconst routes: Routes = [\n    {\n        path: 'detail/:id',\n        component: RevenueDetailComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class RevenueDetailRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail-routing.module.ts","module.exports = \"<div [@routerTransition]>\\n    <div class=\\\"card form-group\\\">\\n        <h6>\\n            <strong class=\\\"title-color\\\">THÔNG TIN KHÁCH HÀNG</strong>\\n        </h6>\\n        <div class=\\\"row form-group\\\">\\n            <div class=\\\"col-md-4 border-right\\\">\\n                <p>\\n                    <strong>Mã khách hàng:</strong> {{currentCustomer.number}}\\n                </p>\\n                <p>\\n                    <strong>Tên khách hàng:</strong> {{currentCustomer.name}}\\n                </p>\\n                <p>\\n                    <strong>Mô tả:</strong> {{currentCustomer.desc}}\\n                </p>\\n                <p>\\n                    <strong>Địa chỉ:</strong> {{currentCustomer.address}}\\n                </p>\\n            </div>\\n            <div class=\\\"col-md-4 border-right\\\">\\n                <p>\\n                    <strong>Loại khách hàng:</strong> {{currentCustomer.customerType === 'Personal' ? 'Cá nhân' : 'Công ty'}}\\n                </p>\\n                <p>\\n                    <strong>Nhóm khách hàng:</strong> {{currentCustomer.customerGroup}}\\n                </p>\\n                <p>\\n                    <strong>Tình trạng:</strong> {{currentCustomer.check ? 'Hoạt động' : 'Không hoạt động'}}\\n                </p>\\n            </div>\\n            <div class=\\\"col-md-4\\\">\\n                <p>\\n                    <strong>Hạn mức tín dụng:</strong> {{currentCustomer.creditLimit | vnCurrency}}\\n                </p>\\n                <p>\\n                    <strong>Công nợ:</strong> {{currentCustomer.owing | vnCurrency}}\\n                </p>\\n                <p>\\n                    <strong>Tín dụng còn lại:</strong> {{currentCustomer.creditLimit - currentCustomer.owing | vnCurrency}}\\n                </p>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"card\\\">\\n        <div class=\\\"d-flex justify-content-between form-group\\\">\\n            <h6 class=\\\"revenue-title\\\">\\n                <strong class=\\\"title-color\\\">THÔNG TIN CHI TIẾT CÔNG NỢ</strong>\\n            </h6>\\n                <div class=\\\"d-flex\\\">\\n                    <div class=\\\"select_box mt-2  mr-2\\\">Từ</div>\\n                    <div class=\\\"input-group  calendarInput  mr-3\\\">\\n                        <owl-date-time [(ngModel)]=\\\"startDate\\\" [dateFormat]=\\\"datePickerConfig.dateFormat\\\" [placeHolder]=\\\"datePickerConfig.datePlaceHolder\\\" [locale]=\\\"datePickerConfig.vi\\\"\\n                        pickerType=\\\"calendar\\\" [type]=\\\"datePickerConfig.calendarType\\\">\\n                        </owl-date-time>\\n                        <span class=\\\"input-group-addon\\\">\\n                            <i class=\\\"fa fa-calendar\\\"></i>\\n                        </span>\\n                    </div>\\n                    <div class=\\\"select_box mt-2\\\"> đến</div>\\n                    <div class=\\\"input-group  calendarInput ml-3\\\">\\n                        <owl-date-time [(ngModel)]=\\\"endDate\\\" [dateFormat]=\\\"datePickerConfig.dateFormat\\\" [placeHolder]=\\\"datePickerConfig.datePlaceHolder\\\" [locale]=\\\"datePickerConfig.vi\\\"\\n                            pickerType=\\\"calendar\\\" [type]=\\\"datePickerConfig.calendarType\\\">\\n                        </owl-date-time>\\n                        <span class=\\\"input-group-addon\\\">\\n                            <i class=\\\"fa fa-calendar\\\"></i>\\n                        </span>\\n                    </div>\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary ml-3\\\" (click)=\\\"search()\\\">Xem</button>\\n                </div>\\n        </div>\\n        <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-bordered\\\">\\n                <thead class=\\\"text-nowrap\\\">\\n                    <tr class=\\\"grid-header-custom\\\">\\n                        <th>Ngày ghi sổ</th>\\n                        <th>Chứng từ</th>\\n                        <th>Ngày chứng từ</th>\\n                        <th>Diễn giải</th>\\n                        <th>Công nợ tăng</th>\\n                        <th>Công nợ giảm</th>\\n                        <th>Tín dụng còn lại</th>\\n                    </tr>\\n                    <tr>\\n                        <th colspan=\\\"6\\\" class=\\\"text-right\\\">Số dư đầu kỳ:</th>\\n                        <th *ngIf=\\\"pagedResult?.items?.length > 0\\\">{{pagedResult.items[0].startBalance | vnNumber}}</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let debt of debtList\\\">\\n                        <td>{{debt.createdDate}}</td>\\n                        <td *ngIf=\\\"debt.documentNo.startsWith('PG'); else ptContent\\\" class=\\\"link-custom\\\" [routerLink]=\\\"['/delivery/detail', customerId, debt.documentNo]\\\">{{debt.documentNo}}</td>\\n                        <ng-template #ptContent>\\n                            <td>{{debt.documentNo}}</td>\\n                        </ng-template>\\n                        <td>{{debt.documentDate}}</td>\\n                        <td>{{debt.documentDesc}}</td>\\n                        <td>{{debt.debtIncrease | vnNumber}}</td>\\n                        <td>{{debt.debtDecrease | vnNumber}}</td>\\n                        <td>{{debt.remainingCredits | vnNumber}}</td>\\n                    </tr>\\n                </tbody>\\n                <tfoot>\\n                    <tr>\\n                        <th colspan=\\\"6\\\" class=\\\"text-right\\\">Số dư cuối kỳ:</th>\\n                        <th *ngIf=\\\"pagedResult?.items?.length > 0\\\">{{pagedResult.items[0].endBalance | vnNumber}}</th>\\n                    </tr>\\n                </tfoot>\\n            </table>\\n        </div>\\n        <app-pagination [pagedResult]=\\\"pagedResult\\\" (pagedResultChange)=\\\"pagedResultChange($event)\\\"></app-pagination>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.html\n// module id = ../../../../../src/app/layout/revenue-detail/revenue-detail.component.html\n// module chunks = revenue-detail.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".card {\\n  padding: 15px; }\\n\\n.revenue-title {\\n  margin-top: 11px; }\\n\\n.title-color {\\n  color: #346699; }\\n\\n.calendarInput {\\n  width: 170px;\\n  margin-left: 10px !important; }\\n\\n.link-custom {\\n  text-decoration: underline;\\n  color: #17a2b8;\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.scss\n// module id = ../../../../../src/app/layout/revenue-detail/revenue-detail.component.scss\n// module chunks = revenue-detail.module","import { Component, OnInit } from '@angular/core';\nimport { routerTransition } from '../../router.animations';\nimport { DATETIME_PICKER_CONFIG } from '../../shared/configs/datepicker.config';\nimport { ActivatedRoute } from '@angular/router';\nimport { WindowService } from '../../shared/services/window.service';\nimport { DebtDetailModel } from '../../shared/models/debt/debt-detail-model';\nimport { PagedResult, CustomerModel } from '../../shared/models';\nimport { DebtDetailResponse } from '../../shared/models/debt/debt-detail-responsive';\nimport * as moment from 'moment';\nimport DateTimeConvertHelper from '../../shared/helpers/datetime-convert-helper';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { CustomerService } from '../../shared/services';\n\n@Component({\n    selector: 'app-revenue-detail',\n    templateUrl: './revenue-detail.component.html',\n    styleUrls: ['./revenue-detail.component.scss'],\n    animations: [routerTransition()]\n})\nexport class RevenueDetailComponent implements OnInit {\n    datePickerConfig = DATETIME_PICKER_CONFIG;\n    customerId: number;\n    debtList: DebtDetailModel[];\n    pagedResult: PagedResult<DebtDetailResponse> = new PagedResult<\n        DebtDetailResponse\n    >();\n    startDate = DateTimeConvertHelper.fromTimestampToDtObject(moment().startOf('year').valueOf());\n    endDate = new Date();\n    currentCustomer: CustomerModel = new CustomerModel();\n    constructor(\n        private route: ActivatedRoute,\n        private windowService: WindowService,\n        private customerService: CustomerService\n    ) {\n    }\n\n    ngOnInit() {\n        this.route.params.subscribe(data => {\n            this.customerId = data.id;\n            this.customerService.view(this.customerId).subscribe(customer => {\n              this.currentCustomer = customer;\n            });\n            this.windowService\n                .getDebtDetail(\n                    this.customerId,\n                    0,\n                    10,\n                    moment(this.startDate).valueOf(),\n                    moment(this.endDate).valueOf()\n                )\n                .subscribe(debt => {\n                    this.pagedResult = debt;\n                    this.refresh();\n                });\n        });\n    }\n\n    refresh() {\n        this.debtList = [];\n        this.pagedResult.items[0].documentEntrys.forEach(e => {\n            this.debtList.push(\n                this.windowService.toDebtDetailModel(\n                    e,\n                    this.pagedResult.items[0].startBalance\n                )\n            );\n        });\n    }\n\n    pagedResultChange(pagedData) {\n        this.windowService\n            .getDebtDetail(\n                this.customerId,\n                pagedData.currentPage,\n                pagedData.pageSize,\n                moment(this.startDate).valueOf(),\n                moment(this.endDate).valueOf()\n            )\n            .subscribe(result => {\n                this.pagedResult = result;\n                this.refresh();\n            });\n    }\n\n    search() {\n      this.windowService\n            .getDebtDetail(\n                this.customerId,\n                Number(this.pagedResult.currentPage),\n                Number(this.pagedResult.pageSize),\n                moment(this.startDate).valueOf(),\n                moment(this.endDate).valueOf()\n            )\n            .subscribe(result => {\n                this.pagedResult = result;\n                this.refresh();\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { RevenueDetailRoutingModule } from './revenue-detail-routing.module';\nimport { RevenueDetailComponent } from './revenue-detail.component';\nimport { SharedModule } from '../../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RevenueDetailRoutingModule,\n    SharedModule\n  ],\n  declarations: [RevenueDetailComponent]\n})\nexport class RevenueDetailModule { }\n\n\n\n// WEBPACK FOOTER //\n// D:/Angular/bys-crm-front-moc-hoa-binh-staging/src/app/layout/revenue-detail/revenue-detail.module.ts"],"sourceRoot":"webpack:///"}